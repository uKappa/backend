(()=>{"use strict";var e={143:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.QWElement=void 0;class n{constructor(e,t){this.element=e,this.elementsCSSRules=t,this.selector="";const n=e.getAttribute("_selector");n&&(this.selector=n)}addCSSRulesPropertyToElement(e){var t;e&&(null===(t=this.elementsCSSRules)||void 0===t?void 0:t.has(e))&&e.setAttribute("_cssRules","true")}hasCSSRules(){return"true"===this.element.getAttribute("_cssRules")}getCSSRules(){var e;return null===(e=this.elementsCSSRules)||void 0===e?void 0:e.get(this.element)}hasCSSProperty(e,t,n){var l,s;if(null===(l=this.elementsCSSRules)||void 0===l?void 0:l.has(this.element)){const l=null===(s=this.elementsCSSRules)||void 0===s?void 0:s.get(this.element);if(l){if(t&&n)return void 0!==l.media[n][t][e];if(t)return void 0!==l[t][e];if(n)return void 0!==l.media[n][e]}return!l||void 0!==l[e]}return!1}getCSSProperty(e,t,n){var l,s;if(null===(l=this.elementsCSSRules)||void 0===l?void 0:l.has(this.element)){const l=null===(s=this.elementsCSSRules)||void 0===s?void 0:s.get(this.element);if(l)return t&&n?l.media[n][t][e]:t?l[t][e]:n?l.media[n][e]:l[e]}}getCSSMediaRules(){var e,t;if(null===(e=this.elementsCSSRules)||void 0===e?void 0:e.has(this.element)){const e=null===(t=this.elementsCSSRules)||void 0===t?void 0:t.get(this.element);if(e)return e.media}}getCSSPseudoSelectorRules(e){var t,n;if(null===(t=this.elementsCSSRules)||void 0===t?void 0:t.has(this.element)){const t=null===(n=this.elementsCSSRules)||void 0===n?void 0:n.get(this.element);if(t)return t[e]}}elementHasAttribute(e){return this.element.getAttributeNames().includes(e)}elementHasAttributes(){return this.element.getAttributeNames().length>0}elementHasChild(e){const t=this.element.children;for(let n=0;n<t.length;n++){const l=t.item(n);if(l&&l.tagName.toLowerCase()===e.toLowerCase())return!0}return!1}elementHasChildren(){return this.element.children.length>0}elementHasParent(e){const t=this.element.parentElement;return!!t&&t.tagName.toLowerCase()===e.toLowerCase()}hasTextNode(){let e=!1;return this.element.childNodes.forEach((t=>{var n;3===t.nodeType&&""!==(null===(n=t.textContent)||void 0===n?void 0:n.trim())&&(e=!0)})),e}getElementAttribute(e){return this.element.getAttribute(e)}getElementAttributes(){var e;const t={};for(const n of null!==(e=this.element.getAttributeNames())&&void 0!==e?e:[]){const e=this.element.getAttribute(n);e&&(t[n]=e)}return t}getElementAttributesName(){return this.element.getAttributeNames()}getElementChildren(){const e=new Array,t=this.element.children;for(let l=0;l<t.length;l++){const s=t.item(l);s&&(this.addCSSRulesPropertyToElement(s),e.push(new n(s,this.elementsCSSRules)))}return e}getElementChildTextContent(e){var t;const n=this.element.children;for(let l=0;l<n.length;l++){const s=n.item(l);if(s&&s.tagName.toLowerCase()===e.toLowerCase())return null!==(t=s.textContent)&&void 0!==t?t:void 0}}getElementHtmlCode(e,t){const n=this.element.getAttribute("_cssRules"),l=this.element.getAttribute("_selector"),s=this.element.getAttribute("_documentSelector");let o;if(this.element.removeAttribute("_cssRules"),this.element.removeAttribute("_selector"),this.element.removeAttribute("_documentSelector"),t){const e=this.element.children,t=new Array;for(let n=0;n<e.length;n++){const l=e.item(n);if(l){const e=l.getAttribute("_cssRules"),n=l.getAttribute("_selector"),s=l.getAttribute("_documentSelector");t.push({cssRulesValue:e,selectorValue:n,documentSelectorValue:s}),l.removeAttribute("_cssRules"),l.removeAttribute("_selector"),l.removeAttribute("_documentSelector")}}o=this.element.outerHTML;for(let n=0;n<e.length;n++){const l=e.item(n);if(l){const e=t[n];e.cssRulesValue&&l.setAttribute("_cssRules",e.cssRulesValue),e.selectorValue&&l.setAttribute("_selector",e.selectorValue),e.documentSelectorValue&&l.setAttribute("_documentSelector",e.documentSelectorValue)}}}else if(e){const e=this.element.cloneNode(!1),t=this.getElementText();e.innerHTML=void 0!==t?t:"",o=e.outerHTML}else{const e=this.element.cloneNode(!1);e.innerHTML="",o=e.outerHTML}return n&&this.element.setAttribute("_cssRules",n),l&&this.element.setAttribute("_selector",l),s&&this.element.setAttribute("_documentSelector",s),o}getElement(e){const t=this.element.querySelector(e);return this.addCSSRulesPropertyToElement(t),this.convertElementToQWElement(t)}convertElementToQWElement(e){return e?(this.addCSSRulesPropertyToElement(e),new n(e,this.elementsCSSRules)):null}convertElementsToQWElement(e){const t=new Array;return null==e||e.forEach((e=>{this.addCSSRulesPropertyToElement(e),t.push(new n(e,this.elementsCSSRules))})),t}getElements(e){return this.convertElementsToQWElement(this.element.querySelectorAll(e))}getElementNextSibling(){return this.convertElementToQWElement(this.element.nextElementSibling)}getAllPreviousSiblings(){const e=new Array;let t=this.element.previousSibling;for(;null!==t;){if(1===t.nodeType){const n=this.convertElementToQWElement(t);n&&e.unshift(n)}else 3===t.nodeType&&t.textContent&&e.unshift(t.textContent);t=t.previousSibling}return e}getAllNextSiblings(){const e=new Array;let t=this.element.nextSibling;for(;null!==t;){if(1===t.nodeType){const n=this.convertElementToQWElement(t);n&&e.push(n)}else 3===t.nodeType&&t.textContent&&e.push(t.textContent);t=t.nextSibling}return e}getPreviousSibling(){const e=this.element.previousSibling;if(e){if(1===e.nodeType)return this.convertElementToQWElement(e);if(3===e.nodeType)return e.textContent;{let t=e.previousSibling,n=null;for(;null!==t;){if(1===t.nodeType){n=this.convertElementToQWElement(t);break}3===t.nodeType&&(n=t.textContent),t=t.previousSibling}return n}}return null}getNextSibling(){const e=this.element.nextSibling;if(e){if(1===e.nodeType)return this.convertElementToQWElement(e);if(3===e.nodeType)return e.textContent;{let t=e.nextSibling,n=null;for(;null!==t;){if(1===t.nodeType){n=this.convertElementToQWElement(t);break}3===t.nodeType&&(n=t.textContent),t=t.nextSibling}return n}}return null}getElementParent(){return this.element.assignedSlot?this.convertElementToQWElement(this.element.assignedSlot.parentElement):this.convertElementToQWElement(this.element.parentElement)}getParentAllContexts(){let e=this.element.parentElement;if(!e){const t=this.element.getAttribute("_documentSelector");t&&(e=document.querySelector(t))}return this.convertElementToQWElement(this.element.parentElement)}getElementPreviousSibling(){return this.convertElementToQWElement(this.element.previousElementSibling)}getElementProperty(e){const t=this.element[e];return null===t?"":t}getElementSelector(){if(""===this.selector){if("html"===this.element.tagName.toLowerCase())return"html";if("head"===this.element.tagName.toLowerCase())return"html > head";if("body"===this.element.tagName.toLowerCase())return"html > body";let e="";const t=new Array;let n=this.element.parentElement;for(;n;)t.unshift(this.getSelfLocationInParent(n)),n=n.parentElement;t.length>0?(e+=t.join(" > "),e+=" > "+this.getSelfLocationInParent(this.element)):e+=this.getSelfLocationInParent(this.element);const l=this.element.getAttribute("_documentSelector");return l&&(e=l+e),this.selector=e,e}return this.selector}getSelfLocationInParent(e){let t="";if("body"===e.tagName.toLowerCase()||"head"===e.tagName.toLowerCase())return e.tagName.toLowerCase();let n=0,l=e.previousElementSibling;for(;l;)l.tagName.toLowerCase()===e.tagName.toLowerCase()&&n++,l=l.previousElementSibling;return t+=`${e.tagName.toLowerCase()}:nth-of-type(${n+1})`,t}getElementStyleProperty(e,t){return getComputedStyle(this.element,t).getPropertyValue(e)}getElementTagName(){return this.element.tagName.toLowerCase()}getElementText(){var e,t;if(this.elementHasShadowDescendant()&&!this.element.shadowRoot){let e="";return this.element.childNodes.forEach((t=>{var n;1===t.nodeType?e+=this.convertElementToQWElement(t).getElementText():e+=null!==(n=t.textContent)&&void 0!==n?n:""})),e}return this.element.shadowRoot?null!==(e=this.element.shadowRoot.textContent)&&void 0!==e?e:"":null!==(t=this.element.textContent)&&void 0!==t?t:""}getElementOwnText(){let e;e=this.element.shadowRoot?this.element.shadowRoot.childNodes:this.element.childNodes;let t,n="";return e.forEach((e=>{t=e.textContent,3===e.nodeType&&t&&""!==t.trim()&&(n+=t.trim())})),n}getElementType(){return 1===this.element.nodeType?"tag":2===this.element.nodeType?"attribute":3===this.element.nodeType?"text":"comment"}getNumberOfSiblingsWithTheSameTag(){let e=1,t=this.element.nextElementSibling;for(;t;)"a"===t.tagName.toLowerCase()&&e++,t=t.nextElementSibling;return e}setElementAttribute(e,t){this.element.setAttribute(e,t)}concatANames(e){const t=this.element.childNodes;let n,l="",s=0,o=0;return t.forEach((t=>{n=t.textContent,3===t.nodeType&&n&&""!==n.trim()?(l=l+(0===o?"":" ")+n.trim(),o++):1===t.nodeType&&(l=l+(o>0&&e[s]?" ":"")+e[s],s++)})),l||(l=""),l}isOffScreen(){const e=Math.max(document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,document.documentElement.offsetHeight,document.body.clientHeight,document.documentElement.clientHeight),t=Math.max(document.body.scrollWidth,document.documentElement.scrollWidth,document.body.offsetWidth,document.documentElement.offsetWidth,document.body.clientWidth,document.documentElement.clientHeight),n=this.element.getBoundingClientRect(),l=n.left,s=n.right,o=n.bottom,r=n.top,i=this.noParentScrolled(o);return l>t||s<0||o<0&&i||r>e||0===s&&0===l}isElementHTMLElement(){return this.element instanceof HTMLElement}getContentFrame(){let e=null;if("iframe"===this.getElementTagName()){const t=this.element.contentWindow;t&&(e=t.document)}return e}elementHasTextNode(){let e=!1;return null!==this.element.childNodes&&this.element.childNodes.forEach((t=>{var n;3===t.nodeType&&""!==(null===(n=t.textContent)||void 0===n?void 0:n.trim())&&(e=!0)})),e}noParentScrolled(e){let t=this.element.parentElement;for(;t&&"html"!==t.nodeName.toLowerCase();){if(t.scrollTop&&(e+=t.scrollTop)>=0)return!1;t=t.parentElement}return!0}focusElement(){this.element.focus()}dispatchEvent(e){this.element.dispatchEvent(e)}click(){this.element.click()}getBoundingBox(){return this.element.getBoundingClientRect()}getShadowElement(e){const t=this.element.shadowRoot;let n=null;return t&&(n=t.querySelector(e)),this.convertElementToQWElement(n)}getShadowElements(e){const t=this.element.shadowRoot;let n=null;return t&&(n=t.querySelectorAll(e)),this.convertElementsToQWElement(n)}getSlotElements(){const e=this.element.assignedElements(),t=new Array;return null==e||e.forEach((e=>{this.addCSSRulesPropertyToElement(e),t.push(new n(e,this.elementsCSSRules))})),t}getSlotNodes(){return this.element.assignedNodes()}isShadowRoot(){return!!this.element.shadowRoot}elementHasShadowDescendant(){let e=!1;return this.element.childNodes.forEach((t=>{1===t.nodeType&&(e=!!t.shadowRoot||this.convertElementToQWElement(t).elementHasShadowDescendant())})),e}}t.QWElement=n},234:e=>{e.exports=class{constructor(){this.cache=new Map}get(e){return this.cache.get(e)}put(e,t){this.cache.set(e,t)}exists(e){return this.cache.has(e)}}},307:(e,t,n)=>{const l=n(143);e.exports=class{constructor(e){this.pseudoSelectors=["focus","hover","before","after","active","disabled","checked","empty","enabled","in-range","invalid","lang","link","optional","out-of-range","read-only","read-write","required","target","valid","visited","first-letter","first-line","selection"],this.elementsCSSRules=new Map,this.document=e}map(){return this.mapExternalStylesheets(),this.mapHeadStyles(),this.mapInlineStyles(),this.elementsCSSRules}mapExternalStylesheets(){var e;for(const t of this.document.styleSheets||[])if("link"===(null===(e=t.ownerNode)||void 0===e?void 0:e.nodeName.toLowerCase())){const e=this.getCSSRules(t);for(const n of e||[])1===n.type?this.mapNormalCSSRule(n,void 0,"file",t.href):4===n.type&&this.mapMediaCSSRule(n,"file",t.href)}}mapHeadStyles(){const e=this.document.querySelectorAll("style");for(const t of e||[]){const e=this.getCSSRules(t.sheet);for(const n of e||[])1===n.type?this.mapNormalCSSRule(n,void 0,"head",new l.QWElement(t).getElementSelector()):4===n.type&&this.mapMediaCSSRule(n,"head",new l.QWElement(t).getElementSelector())}}mapInlineStyles(){const e=this.document.querySelectorAll("[style]");for(const t of e||[]){const e=t.getAttribute("style");if(e){const n=e.split(";").map((e=>e.trim())).filter((e=>""!==e))||[e.trim()];this.elementsCSSRules.has(t)?this.addElementCSSRules(t,n,void 0,void 0,"inline",new l.QWElement(t).getElementSelector()||""):this.createElementCSSMapping(t,n,void 0,void 0,"inline",new l.QWElement(t).getElementSelector()||"")}}}mapMediaCSSRule(e,t,n){const l=e.cssRules||new CSSRuleList;for(const s of l||[])1===s.type&&this.mapNormalCSSRule(s,e.conditionText,t,n)}mapNormalCSSRule(e,t,n,l){const s=e.selectorText.trim(),o=e.cssText.replace(s,"").replace("{","").replace("}","").trim().split(";").map((e=>e.trim())).filter((e=>""!==e)),r=s.split(",")||[s];for(let e of r||[]){let s;if(e.includes("::")){const t=e.split("::");this.pseudoSelectors.includes(t[1])&&(e=t[0].trim(),s="::"+t[1].trim())}else if(e.includes(":")){const t=e.split(":");e=t[0].trim(),s=":"+t[1].trim()}const r=this.getElements(e);for(const e of r||[])this.elementsCSSRules.has(e)?this.addElementCSSRules(e,o,t,s,n,l||""):this.createElementCSSMapping(e,o,t,s,n,l||"")}}createElementCSSMapping(e,t,n,l,s,o){const r={media:{}};n&&(r.media[n]={},l&&(r.media[n][l]={}));for(const e of t||[]){const t=e.split(":")[0].trim();n?l?r.media[n][l][t]=this.createPropertyObject(e,s,o):r.media[n][t]=this.createPropertyObject(e,s,o):void 0===r[t]?r[t]=this.createPropertyObject(e,s,o):r[t].important&&!e.includes("!important")||(r[t]=this.createPropertyObject(e,s,o))}this.elementsCSSRules.set(e,r)}addElementCSSRules(e,t,n,l,s,o){for(const r of t||[]){const t=this.elementsCSSRules.get(e),i=r.split(":")[0].trim();n?(void 0===t.media&&(t.media={}),void 0===t.media[n]?(t.media[n]={},l?(t.media[n][l]={},t.media[n][l][i]=this.createPropertyObject(r,s,o)):t.media[n][i]=this.createPropertyObject(r,s,o)):l?void 0===t.media[n][l]?(t.media[n][l]={},t.media[n][l][i]=this.createPropertyObject(r,s,o)):void 0===t.media[n][l][i]?t.media[n][l][i]=this.createPropertyObject(r,s,o):t.media[n][l][i].important?r.includes("!important")&&(t.media[n][l][i]=this.createPropertyObject(r,s,o)):t.media[n][l][i]=this.createPropertyObject(r,s,o):void 0===t.media[n][i]?t.media[n][i]=this.createPropertyObject(r,s,o):t.media[n][i].important?r.includes("!important")&&(t.media[n][i]=this.createPropertyObject(r,s,o)):t.media[n][i]=this.createPropertyObject(r,s,o)):l?void 0===t[l]?(t[l]={},t[l][i]=this.createPropertyObject(r,s,o)):void 0===t[l][i]?t[l][i]=this.createPropertyObject(r,s,o):t[l][i].important?r.includes("!important")&&(t[l][i]=this.createPropertyObject(r,s,o)):t[l][i]=this.createPropertyObject(r,s,o):void 0===t[i]?t[i]=this.createPropertyObject(r,s,o):t[i].important?r.includes("!important")&&(t[i]=this.createPropertyObject(r,s,o)):t[i]=this.createPropertyObject(r,s,o),this.elementsCSSRules.set(e,t)}}createPropertyObject(e,t,n){const l=e.includes("!important"),s=e.split(":"),o=s[0].trim(),r=s.splice(1).join("");return{important:l,name:o,value:l?r.replace("!important","").trim():r.trim(),location:t,pointer:n}}getCSSRules(e){try{return(null==e?void 0:e.rules)||(null==e?void 0:e.cssRules)||null}catch(e){return null}}getElements(e){try{return this.document.querySelectorAll(e)}catch(e){return null}}}},160:function(e,t,n){var l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.QWPage=void 0;const s=n(143),o=l(n(234)),r=l(n(307)),i=l(n(127));class m{constructor(e,t){this.document=e,this.cache=new o.default,this.extraDocuments=new Map,new i.default(e).processElementSelector(),t&&(this.elementsCSSRules=new r.default(this.document).map()),this.url=this.document.baseURI,this.processIframes(),this.processShadowDom()}createQWElement(e){return new s.QWElement(e)}processShadowDom(){const e=this.document.querySelectorAll("*");for(const t of null!=e?e:[])if(null!==t.shadowRoot){const e=new s.QWElement(t).getElementSelector(),n=new m(t.shadowRoot,!0);this.extraDocuments.set(e,n)}}processIframes(){const e=this.document.querySelectorAll("iframe");for(const t of null!=e?e:[])try{const e=new s.QWElement(t),n=e.getContentFrame();if(n&&n.defaultView){const t=e.getElementSelector(),l=new m(n,!0);this.extraDocuments.set(t,l)}}catch(e){}}addCSSRulesPropertyToElement(e){var t;e&&(null===(t=this.elementsCSSRules)||void 0===t?void 0:t.has(e))&&e.setAttribute("_cssRules","true")}addIframeAttribute(e,t){for(const n of e)n.setElementAttribute("_documentSelector",t)}cacheValue(e,t,n){this.cache.put(e+","+t,n)}getCachedValue(e,t){return this.cache.get(e+","+t)}isValueCached(e,t){return this.cache.exists(e+","+t)}getURL(){return this.url}getElementFromDocument(e){const t=this.document.querySelector(e);return this.addCSSRulesPropertyToElement(t),t?new s.QWElement(t,this.elementsCSSRules):null}getElementsFromDocument(e){const t=this.document.querySelectorAll(e),n=new Array;return t.forEach((e=>{this.addCSSRulesPropertyToElement(e),n.push(new s.QWElement(e,this.elementsCSSRules))})),n}getElement(e,t,n){let l=null,s=null;if(t||n)if(s=t?t.getElementAttribute("_documentSelector"):n,s&&this.extraDocuments.has(s)){const n=this.extraDocuments.get(s);n&&(l=n.getElement(e,t))}else l=this.getElementFromDocument(e);else l=this.getElementFromDocument(e),l||this.extraDocuments.forEach(((t,n)=>{l||(l=t.getElement(e),s=n)}));return l&&s&&this.addIframeAttribute([l],s),l}getElements(e,t,n){let l;const s=new Array;if(t||n)if(l=t?t.getElementAttribute("_documentSelector"):n,l&&this.extraDocuments.has(l)){const n=this.extraDocuments.get(l);n&&(s.push(...n.getElements(e,t)),this.addIframeAttribute(s,l))}else s.push(...this.getElementsFromDocument(e));else s.push(...this.getElementsFromDocument(e)),this.extraDocuments.forEach(((t,n)=>{const l=t.getElements(e);this.addIframeAttribute(l,n),s.push(...l)}));return s}getElementByID(e){const t=this.document.querySelector(`[id='${e}']`);return this.addCSSRulesPropertyToElement(t),t?new s.QWElement(t,this.elementsCSSRules):null}getElementByAttributeName(e){const t=this.document.querySelector(`[name='${e}']`);return this.addCSSRulesPropertyToElement(t),t?new s.QWElement(t,this.elementsCSSRules):null}getPageRootElement(){if(this.document instanceof Document){const e=this.document.documentElement;return this.addCSSRulesPropertyToElement(e),e?new s.QWElement(e,this.elementsCSSRules):null}return null}getHTMLContent(){return this.document instanceof ShadowRoot?this.document.innerHTML:this.document.documentElement.outerHTML}getFocusedElement(){const e=this.document.activeElement;return this.addCSSRulesPropertyToElement(e),e?new s.QWElement(e,this.elementsCSSRules):null}pageHasOpenDialog(){const e=this.getElements("dialog");let t=!1;return e.forEach((e=>{e.getElementProperty("open")&&(t=!0)})),t}cleanAllElements(){const e=this.document.querySelector("html");if(e){e.removeAttribute("_selector"),e.removeAttribute("_cssRules"),e.removeAttribute("_documentSelector");const t=e.children;t&&this.cleanAllElementsAux([...t])}}cleanAllElementsAux(e){for(const t of null!=e?e:[]){t.removeAttribute("_selector"),t.removeAttribute("_cssRules"),t.removeAttribute("_documentSelector");const e=t.children;e&&e.length>0&&this.cleanAllElementsAux([...e])}}}t.QWPage=m,window.qwPage=new m(document,!0)},127:e=>{e.exports=class{constructor(e){this.document=e}processElementSelector(){const e=this.document.querySelector("html");if(e){e.setAttribute("_selector","html");const t=e.children;t&&this.processElementSelectorAux([...t])}}processElementSelectorAux(e){const t=e[0].parentElement;if(t){const n=t.getAttribute("_selector");if(n){this.addSelectorAttribute(e,n);for(const t of null!=e?e:[]){const e=t.children;e&&e.length>0&&this.processElementSelectorAux([...e])}}}}addSelectorAttribute(e,t){let n=1;for(const l of e){const e=l.tagName.toLowerCase();l.setAttribute("_selector",t+" > "+e+":nth-child("+n+")"),n++}}}}},t={},n=function n(l){var s=t[l];if(void 0!==s)return s.exports;var o=t[l]={exports:{}};return e[l].call(o.exports,o,o.exports,n),o.exports}(160);for(var l in n)this[l]=n[l];n.__esModule&&Object.defineProperty(this,"__esModule",{value:!0})})();